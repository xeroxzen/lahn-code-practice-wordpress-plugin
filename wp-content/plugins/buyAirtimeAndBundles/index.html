<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Buy Airtime and Bundles</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="container-default">
      <h3>Buy airtime and bundles</h3>
      <p>Get yourself some data</p>
      <form action="buyAirtimeAndBundles.php" method="POST" id="form">
        <!-- Number to be recharged -->
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label"
            >Enter phone number to be recharged.</label
          >
          <input
            type="tel"
            class="form-control"
            id="customer_number"
            aria-describedby="numberHelp"
          />
        </div>
        <!-- Amount of airtime -->
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label"
            >Enter amount of airtime.</label
          >
          <input
            type="number"
            class="form-control"
            id="amount"
            aria-describedby="numberHelp"
          />
        </div>
        <!-- Payment Method -->
        <div class="mb-3">
          <label class="form-check-label" for="flexRadioDefault1">
            Payment Method of choice
          </label>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="paymentMethod"
              id="mobile"
            />
            <label class="form-check-label" for="flexRadioDefault1">
              EcoCash/OneMoney
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="paymentMethod"
              id="mastercard"
            />
            <label class="form-check-label" for="flexRadioDefault2">
              Visa/MasterCard
            </label>
          </div>
        </div>

        <!-- Paying Account -->
        <div class="mb-3">
          <label for="exampleFormControlInput1" class="form-label"
            >Enter paying account</label
          >
          <input type="tel" class="form-control" id="payment_number" />
        </div>
        <!-- Confirm transaction -->
        <div class="mb-3">
          <label class="form-check-label" for="confirmTransaction">
            Confirm transaction
          </label>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="confirm_transaction"
              id="yes"
            />
            <label class="form-check-label" for="no"> Yes </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="confirmTransaction"
              id="no"
            />
            <label class="form-check-label" for="no"> No </label>
          </div>
        </div>
        <!-- Submit transaction -->
        <button id="buy" type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script>
      function onSubmit() {
        const form = document.getElementById("form");
        form.addEventListener("submit", function (e) {
          e.preventDefault();
          const formData = new FormData();
          // if there are missing fields, return an error
          if (formData.errors) {
            const errors = document.getElementsByClassName("errors");
            errors.forEach((err) => {
              if (err.errors.length > 0) {
                errors.forEach((error) => {
                  console.error(error.message);
                });
              }
            });
          } else {
            errors.forEach((err) => {
              console.error(err.message);
            });
          }
        });
      }

      window.onload = function () {
        onSubmit();
      };

      // consume the api here to purchase airtime
      window.addEventListener("load", onSubmit, false);
    </script>
  </body>
</html>
